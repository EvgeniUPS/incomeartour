<!DOCTYPE html>
<html lang="ru">
  @@include('_head.html',{ "title":"Отзывы" })
  <body>
    <div class="wrapper">
      <!-- @@include('_header.html',{}) -->
      <!--  -->
      @@include('_header.html',{})
      <main class="page">
        @@include('_page-header.html', { "pageHeader" : "Отзывы", "imgPath" : "./img/eiffel-tower-paris-europe.jpg",
        "pageText" : "pageTexttttt", "flag" : "./img/flags/4x3/fr.svg"})
        <!--  -->

        <div class="test _container">
          <!-- <form class="test-form" style="" example-form>
            <input
              name="label"
              type="text"
              placeholder="14"
              value="label"
              style="border: 1px solid #ccc; display: block; margin-bottom: 5px"
            />
            <input
              name="link"
              type="text"
              placeholder="14"
              value="link1"
              style="border: 1px solid #ccc; display: block; margin-bottom: 5px"
            />
            <input name="example" />

            <input type="button" class="send-data" value="submit" />
          </form> -->

          <form id="formElem">
            <input style="border: 1px solid #ccc" type="text" name="label" value="John" />
            <input style="border: 1px solid #ccc" type="text" name="link" value="Smith" />
            <input type="submit" />
          </form>
          <br />
          <script>
            formElem.onsubmit = async e => {
              e.preventDefault()

              let response = await fetch('http://evgeniups-server.herokuapp.com/testMenu', {
                method: 'POST',
                body: new FormData(formElem),
              })

              let result = await response.json()

              alert(result.message)
            }
          </script>
        </div>

        <script>
          // const testForm = document.querySelector('.test-form')
          // testForm.addEventListener('click', async e => {
          // 	e.preventDefault()

          //   let response = await fetch('http://evgeniups-server.herokuapp.com/testMenu', {
          //     method: 'POST',
          //     body: new FormData(testForm),
          //   })
          //   let res = await response.json()

          //   console.log(e)
          // })

          // const form = document.forms['example-form']
          // const exampleInput = document.querySelector('[name="example"]')
          // exampleInput.addEventListener('input', changeHandler)
          // function changeHandler(e) {
          //   console.log(e.target)
          //   const formData = new FormData()
          //   formData.append('label', 'sdfsdf sdf')
          //   formData.set('label', 'sdfsdf sdfqwq')

          //   console.log(formData)
          //   for (key of formData.keys()) {
          //     console.log(`${key}: ${formData.get(key)}`)
          //   }
          // }
          // const sendData1 = document.querySelector('.send-data')
          // sendData1.addEventListener('click', function (e) {
          //   console.log('click')
          //   data = new FormData(document.querySelector('.test-form'))
          //   console.log(data.has(link))
          //   console.log(data.has(label))
          // })
        </script>

        <!--  -->
      </main>
      @@include('_footer.html',{})
    </div>
    @@include('_popup.html',{})
    <!--  -->
    @@include('_js.html',{})
  </body>
</html>
